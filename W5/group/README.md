# 期末專題初稿

## 介紹
此為一個可以保險平台，由平台定義擔保品，發起保險為被保人，接受保險並提供擔保品的為保險人，初期保單資料暫時存在鏈上，而發起的被保人需要定義此保單的保額、費率、保額期限等資訊，保險人需發起Deal，當Deal成立才會創造NFT，並且建立兩個池子，分別放置保費及擔保品。

### Role 角色
- Insurance

- 保險人

- 被保人

- 平台

### 被保人

1. 提出保單需求
    1. 保險標的物定義
        1. 先由平台定義 enum
        2. 先存在合約
2. 設定
    1. 保額多少
    2. 費率多少
    3. 保險期限

把保單當成 NFT，標的、設定都是Metadata

### 保險人

1. 可以接單
2. 質押保額在合約內
    1. 期限到了，可以把保額拿回來
    2. 假如果保險人後悔的話….之後討論
3. 可以收到質押獎勵

### 合約

createInsurance.sol

- 發起人 a.k.a 被保人
- 接單人 a.k.a 保險人
- Data
    - 保額
    - 保費
        - 月繳、年繳，或其他繳款方式(再說)
    - 保險期限
    - 陳罰機制
- 設定
- 用來放保險金的 pool*
- boolean 確認保險是否成立
    - 成立時要發出 NFT 保單
- 獎勵方法
- 時效確認
- 保險金的 withdraw


ERC1155.sol ← NFT 保單

insuranceFeePool.sol

insuranceAmountPool.sol

- 設定 admin
- Deposit
    - admin 才能操作
- Withdraw
    - admin 才能操作

後面討論：

1. 是一對多還是一對一，peer to pool
2. 假如果保險人後悔的話，是否要抽罰款
3. 時效確認
    1. 是時效到了之後：
        1. 保單刪除，保險人可以把金額抽走
            1. 保費低
        2. 保險人可以把金額抽走，然後被保人仍然保有保單，同時保單的保額價值不變
            1. 保費高，存續型保險
4. 續約，
5. 扣不到款的話怎麼辦
    1. 給一個期限，如果期限內還是收不到保費，就保險作廢，保險人可以把錢拿回去